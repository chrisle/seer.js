<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Namespace: GoogleAnalytics</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/seerjs.css" rel="stylesheet">
    <link href="js/google-code-prettify/prettify.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">

  </head>

  <body onload="prettyPrint()">

    

      <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
          <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="index.html">Seer SEO Toolbox</a>
            <div class="nav-collapse">
  <ul class="nav">
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#apis"> APIs <b class="caret"></b> </a>
      <ul class="dropdown-menu">
        <!-- <li><a href="#">Google Adwords</a></li> -->
        <li><a href="GoogleAnalytics.html">Google Analytics</a></li>
        <li><a href="Klout.html">Klout</a></li>
        <li><a href="Majestic.html">Majestic</a></li>
        <li><a href="Raven.html">Raven</a></li>
        <li><a href="Seomoz.html">SEOmoz</a></li>
        <li><a href="Twitter.html">Twitter</a></li>
      </ul>
    </li>

    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#Architecture"> Other <b class="caret"></b> </a>
      <ul class="dropdown-menu">
        <li><a href="GoogleScraper.html">Google Scraper</a></li>
        <li><a href="OnPage.html">On-page Analysis</a></li>
        <li><a href="Redirection.html">Redirection</a></li>
        <li><a href="Utils.html">Utilities</a></li>
        <li><a href="ArrayTransform.html">Arrays and cells</a></li>
        <li><a href="Hashes.html">Hash Calculations</a></li>
      </ul>
    </li>

  </ul>
</div><!--/.nav-collapse -->

          </div>
        </div>
      </div>

      <div class="container" id="seerjs-docs">
        <div class="page-header">
          <h1>Google Analytics API</h1>
        </div>

        <div class="row">
          
                <div class="span4">
                  <h2>
                    <a href="#getGaKeywordCount">getGaKeywordCount</a>
                  </h2>
                  <p>Gets the number of keywords driving traffic to a profile between two 
dates. <p class="muted"><strong>*</strong> May be inconsistant with the
website</p></p>
                </div>
                
                <div class="span4">
                  <h2>
                    <a href="#getGaMetric">getGaMetric</a>
                  </h2>
                  <p>Gets analytics data from Google Analytics to create custom
  reports for multiple clients and profiles.</p>
                </div>
                
        </div>

        

              <div class="row">
                <div class="span12 columns">
                  <section id="getGaKeywordCount">

  <div class="page-header">
    <h1 id="getGaKeywordCount">
      getGaKeywordCount
    </h1>
  </div>

  <div class="row">
    <div class="span12 columns">
      <h3>Function</h3>
      <pre class="prettyprint">=getGaKeywordCount(profileId, startDate, endDate)</pre>
    </div>
  </div>

  <div class="row">
    <div class="span3 columns">
      
        <h3>Details</h3> 
        <p> This function gets the number of keywords that are driving traffic to a
specific profile between two dates.

It works by collecting all the keywords that drove traffic between the 
start date and end date and returning the total number of keywords.

<div class="alert">
  <b>Inconsistancy:</b> Google doesn't provide a keyword count in the API so
  this count may not match up to the website.</b>
</div>

<div class="alert alert-error">
  <b>Limitation:</b> Does not work on high traffic accounts.
</div> </p>
      
    </div>
    <div class="span9 columns">
      <h3>Parameters</h3>
      <p>
        

<table class="table table-bordered">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th>Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>profileId</code></td>
            
            
            <td class="type">
            Number
            </td>
            
            
            
            
            
            <td class="description last">Profile ID from the Profile ID sheet</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>startDate</code></td>
            
            
            <td class="type">
            Date
            </td>
            
            
            
            
            
            <td class="description last">Starting date</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>endDate</code></td>
            
            
            <td class="type">
            Date
            </td>
            
            
            
            
            
            <td class="description last">Ending date</td>
        </tr>
	
	
	</tbody>
</table>
        
      </p>

      

    </div>
  </div>

  <div class="page-header">
    <h3>Examples</h3>
  </div>
     
  <div class="row">
      

  <div class="span3">
    <p>
  
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: 11/01/2011
  A3: 11/02/2011
=getGaKeywordCount(A1, A2, A3)</pre> </p>
  </div>



  </div> 
</section>

                </div>
              </div>

            

              <div class="row">
                <div class="span12 columns">
                  <section id="getGaMetric">

  <div class="page-header">
    <h1 id="getGaMetric">
      getGaMetric
    </h1>
  </div>

  <div class="row">
    <div class="span12 columns">
      <h3>Function</h3>
      <pre class="prettyprint">=getGaMetric(profileId, metric, startDate, endDate, optFilter, optDimensions, optSegment, optSort, optIncludeHeaders, optMax, optEnableSleep)</pre>
    </div>
  </div>

  <div class="row">
    <div class="span3 columns">
      
        <h3>Details</h3> 
        <p> <p>Gets analytics data by metrics and dimensions within a date range.</p>
  <p>It will return an error if the date is in the future or if the start
  date is after the begining date.</p>
  <hr/>
  <div class="alert alert-success">
    <strong>Tip:</strong> A complete list of metrics and dimensions is available on
    the <a href="http://code.google.com/apis/analytics/docs/gdata/dimsmets/dimsmets.html" target="_blank">Google Analytics API</a> website.
  </div> </p>
      
    </div>
    <div class="span9 columns">
      <h3>Parameters</h3>
      <p>
        

<table class="table table-bordered">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th>Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>profileId</code></td>
            
            
            <td class="type">
            Number
            </td>
            
            
            
            
            
            <td class="description last">The ID number for the profile</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>metric</code></td>
            
            
            <td class="type">
            String
            </td>
            
            
            
            
            
            <td class="description last">Google Analytics metric you want to get data for. <br/>
       <span class="label label-info">Note</span>
       You must add <code>ga:</code> if you're using multiple metrics in 
       on the same function.  It's not required if you only use one metric.
       <div class="well">
         <h6>Common metrics</h6>
         <dl>
           <dt>ga:visits              </dt><dd>Total number of visitors to your website for the requested time period.</dd>
           <dt>ga:bounces             </dt><dd>The total number of single-page (or event) sessions to your website.</dd>
           <dt>ga:goal(n)completions  </dt><dd>The total number of completions for the requested goal number.</dd>
           <dt>ga:totalEvents         </dt><dd>The total number of events for the profile, across all categories</dd>
           <dt>ga:pageLoadTime        </dt><dd>Total Page Load Time is the amount of time (in milliseconds).</dd>
           <dt>ga:transactions        </dt><dd>The total number of transactions.</dd>
         </dl>
       </div></td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>startDate</code></td>
            
            
            <td class="type">
            Date
            </td>
            
            
            
            
            
            <td class="description last">Starting date</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>endDate</code></td>
            
            
            <td class="type">
            Date
            </td>
            
            
            
            
            
            <td class="description last">Ending date<br/>
       <span class="label label-important">Limitation</span>
       Long date ranges may timeout with high traffic profiles.  Try a
       shorter date range.<br/>
       <span class="label label-warning">Warning</span>
       Long date ranges may result in sampled numbers.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optFilter</code></td>
            
            
            <td class="type">
            Filter
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Filter data from your results. 
       <h6>Available operators</h6> 
       <ul class="unstyled">
         <li><code>==</code> Equals</li>
         <li><code>!=</code> Does not equal</li>
         <li><code>>&nbsp;</code>  Greater than</li>
         <li><code><&nbsp;</code>  Less than</li>
         <li><code>>=</code> Greater than or equal to</li>
         <li><code><=</code> Less than or equal to</li>
       </ul>
       <h6></h6> 
       <ul class="unstyled">
         <li><code>;</code> And </li>
         <li><code>,</code> Or</li>
       </ul>
       See at the <a href="#multiple_filters">examples below</a> or go to the 
       <a href="http://code.google.com/apis/analytics/docs/gdata/v2/gdataReferenceDataFeed.html#filters">
       filters section</a> on the Google Analytics' API website for more
       details.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optDimensions</code></td>
            
            
            <td class="type">
            String
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Dimentions.
       <h6>Available operators</h6> 
       <ul class="unstyled">
         <li><code>==</code> Exact match</li>
         <li><code>!=</code> Does not match</li>
         <li><code>=@</code> Contains substring</li>
         <li><code>!@</code> Does not contain substring</li>
         <li><code>=~</code> Matches regular expression</li>
         <li><code>!~</code> Does not match regular expression</li>
       </ul>
       <div class="well">
         <h6>Common dimensions</h6>
         <dl>
           <dt>ga:visitorType     </dt> <dd>A boolean indicating if a visitor is new or returning. Possible values: New Visitor, Returning Visitor..</dd>
           <dt>ga:referralPath    </dt> <dd>The path of the referring URL.</dd>
           <dt>ga:source          </dt> <dd>The domain of the referring URL, or "google" with AdWords autotagging.</dd>
           <dt>ga:medium          </dt> <dd>May be "organic", "referral" or "ppc" if used with AdWords autotagging.</dd>
           <dt>ga:keyword         </dt> <dd>The keyword used to reach the website.</dd>
           <dt>ga:city            </dt> <dd>The cities of website visitors.</dd>
           <dt>ga:region          </dt> <dd>The state of website visitors.</dd>
         </dl>
       </div>
       See <a href="http://code.google.com/apis/analytics/docs/gdata/v2/gdataReferenceDataFeed.html#dimensions">
       dimensions</a> on the Google Analytics' API website for more details.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optSegment</code></td>
            
            
            <td class="type">
            Number
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Segment ID</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optSort</code></td>
            
            
            <td class="type">
            String
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Sort<br/>
       <span class="label label-important">Known Bug</span>
       Sorting doesn't work. You have to sort the data yourself.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optIncludeHeaders</code></td>
            
            
            <td class="type">
            Boolean
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Include headers (true or false)</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optMax</code></td>
            
            
            <td class="type">
            Number
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Maximum rows</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>optEnableSleep</code></td>
            
            
            <td class="type">
            Number
            </td>
            
            
            
            
            
            <td class="description last"><em class="muted">(Optional)</em> Slow down API calls (default is true)</td>
        </tr>
	
	
	</tbody>
</table>
        
      </p>

      

    </div>
  </div>

  <div class="page-header">
    <h3>Examples</h3>
  </div>
     
  <div class="row">
      

  <div class="span3">
    <p>
  <h4>The basics:<br/>
    <small>Number of visitors between Nov 11, 2011 and Nov 20, 2011</small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 11/01/2011
  A4: 11/20/2011
=getGaMetric(A1, A2, A3, A4)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>One filter:<br/>
    <small>Number of organic visitors between Nov 11, 2011 and Nov 20, 2011.</small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 11/01/2011
  A4: 11/02/2011
  A5: ga:medium==organic
=getGaMetric(A1, A2, A3, A4, A5)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <a name="multiple_filters"></a>
  <h4>Filter A (and) Filter B:<br/>
    <small>
      Get the number of visitors between Nov 11, 2011 and Nov 20, 2011
      that is both organic traffic and came in using the keyword 
      "seo company"
    </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 11/01/2011
  A4: 11/02/2011
  A5: ga:medium==organic;ga:keyword==seo company
=getGaMetric(A1, A2, A3, A4, A5)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Filter A (or) Filter B:<br/>
    <small>
      Get the number of visitors between Nov 11, 2011 and Nov 20, 2011
      that came in using the keyword "seo company" or "philadelphia seo"
    </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 11/01/2011
  A4: 11/02/2011
  A5: ga:keyword==seo company,ga:keyword==philadelphia seo
=getGaMetric(A1, A2, A3, A4, A5)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Visits by month (dimensions)<br/>
    <small> Get visits in the date range broken down by month. </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 01/01/2011
  A4: 06/30/2011
  A5: ga:month
=getGaMetric(A1, A2, A3, A4, , A5, , , true)
// Will return 6 rows, one per month, January to June.</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Visits by week (dimensions)<br/>
    <small> Get visits in the date range broken down by week. </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 01/01/2011
  A4: 12/31/2011
  A5: ga:week
=getGaMetric(A1, A2, A3, A4, , A5, , , true)
// Will return 52 rows numbered 1 to 52 for each week in 2011

// Tip: If you want to convert the week number to a date, add this:
  D1: =getMonday(A3)
  D2: =D1+7
  D3: =D2+7
  D4: =D3+7
  D5: .... and so on.</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Visits by city (dimensions)<br/>
    <small> Get visits in the date range broken down by city. </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits
  A3: 01/01/2011
  A4: 06/30/2011
  A5: ga:city
=getGaMetric(A1, A2, A3, A4, , A5, , , true)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Many metrics & many dimensions combo: <br/>
    <small>
      Creates two columns visits and transactions, broken down into rows
      by month and year
    </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: ga:visits,ga:transactions 
  A3: 01/01/2011
  A4: 12/30/2012
  A5: ga:month,ga:year
=getGaMetric(A1, A2, A3, A4, , A5, , , true)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Referring links: <br/>
    <small>
      Get referral URLs that came to the site between two dates. <br/><br/>
      Note: Visits is added because a metric is required.  Google Docs will 
      create three columns: the domain, the path, and the number of visits.
    </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: visits 
  A3: 01/01/2011
  A4: 03/30/2011
  A5: ga:source,ga:referralPath
=getGaMetric(A1, A2, A3, A4, , A5, , , true)</pre> </p>
  </div>



  <div class="span3">
    <p>
  <h4>Crazy town: <br/>
    <small>
      Get columns for visits and bounces that came from organic traffic, 
      using the keyword "seo company".  Break it out by month, and the
      visitor's city, for the first quarter of 2011.  Oh, and also include 
      column headers.  Zing!
    </small>
  </h4>
</p>
  </div>

  <div class="span9">
    <p> <pre class="prettyprint">Cells:
  A1: 12345678
  A2: ga:visits,ga:bounces 
  A3: 01/01/2011
  A4: 03/30/2011
  A5: ga:medium==organic;ga:keyword=seo company
  A6: ga:month,ga:city
=getGaMetric(A1, A2, A3, A4, A5, A6, , , true)</pre> </p>
  </div>



  </div> 
</section>

                </div>
              </div>

            

<!--         <footer class="footer">
          <div class="row">
            <div class="span12 columns">
              <p>Built <a href="http://www.seerinteractive.com" target="_blank">@seerinteractive</a> by <a href="http://twitter.com/djchrisle" target="_blank">@djchrisle</a>.</p>
            </div>
          </div>
        </footer>
 -->
      </div>

    

    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/google-code-prettify/prettify.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
